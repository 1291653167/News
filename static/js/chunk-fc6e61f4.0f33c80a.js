(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc6e61f4"],{"0c1b":function(t,i,e){"use strict";e("87e0")},"230c":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"page"},[s("van-nav-bar",{attrs:{title:"文章详情","left-arrow":""},on:{"click-left":t.ClickBack}}),s("div",{staticClass:"acticle-detail"},[s("h1",{staticClass:"van-multi-ellipsis--l2"},[t._v(" "+t._s(t.article.title)+" ")]),s("van-cell",{scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-image",{attrs:{width:"50",height:"50",src:e("40d2")}})]},proxy:!0},{key:"title",fn:function(){return[s("div",[t._v("作者:"+t._s(t.article.author))])]},proxy:!0},{key:"label",fn:function(){return[s("div",[t._v("日期:"+t._s(t._f("showTime")(t.article.time)))])]},proxy:!0}])},[s("van-button",{attrs:{type:"default",icon:"plus",size:"small",round:""},on:{click:t.Favs}},[t.article.fav?s("span",[t._v("已关注")]):s("span",[t._v("未关注")])])],1),s("div",{staticClass:"detail",domProps:{innerHTML:t._s(t.article.content)}}),s("div",{staticClass:"like",on:{click:t.likes}},[s("van-icon",{attrs:{name:"thumb-circle-o",size:"20",color:"#ee291f"}}),s("span",{staticClass:"count"},[t._v(t._s(t.article.like))])],1),s("div",{staticClass:"comment-list"},t._l(t.commentLists,(function(i){return s("van-cell",{key:i._id,scopedSlots:t._u([{key:"icon",fn:function(){return[s("van-image",{attrs:{width:"40",height:"40",src:e("40d2")}})]},proxy:!0},{key:"title",fn:function(){return[s("div",{staticClass:"author"},[s("div",{staticClass:"reply-name"},[t._v(" 小张 ")])]),s("div",{staticClass:"van-multi-ellipsis--l3"},[t._v(" "+t._s(i.content)+" ")]),s("div",{staticClass:"date"},[s("span",[t._v(" "+t._s(t._f("showTime")(i.create_time))+" ")]),s("van-badge",{attrs:{content:i.reply_num+"个回复"}})],1)]},proxy:!0}],null,!0)})})),1)],1),s("div",{staticClass:"acticle-bottom"},[s("van-button",{staticClass:"btn",attrs:{type:"default",round:"",size:"small"},on:{click:function(i){t.show=!0}}},[t._v("点击评论")]),s("van-icon",{attrs:{name:"comment-o"}}),s("van-icon",{attrs:{name:"star",color:"#ee291f"}}),s("van-icon",{attrs:{name:"thumb-circle-o"}}),s("van-icon",{attrs:{name:"share"}})],1),s("van-popup",{style:{height:"30%"},attrs:{round:"",position:"bottom"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[s("van-form",[s("van-field",{attrs:{type:"textarea",rows:"4",maxlength:"50","show-word-limit":""},model:{value:t.comment,callback:function(i){t.comment=i},expression:"comment"}}),s("van-button",{attrs:{round:"",size:"large",type:"info"},on:{click:t.save}},[t._v(" 保存 ")])],1)],1)],1)},a=[],n={data:function(){return{show:!1,article:{},commentLists:[],comment:"",like:!1,fav:!1}},filters:{showTime:function(t){var i=new Date(t);return i.getFullYear()+"年"+(i.getMonth()+1)+"月"+i.getDate()+"号"}},methods:{ClickBack:function(){this.$router.go(-1)},Favs:function(){var t=this;this.article.fav?this.axios.post("/api/remove_fav",{user_id:this.$store.getters.getUid,article_id:this.$route.params.id}).then((function(i){t.$set(t.article,"fav",--t.article.fav)})):this.axios.post("/api/add_fav",{user_id:this.$store.getters.getUid,article_id:this.$route.params.id}).then((function(i){t.$set(t.article,"fav",++t.article.fav)}))},likes:function(){var t=this;this.like?this.axios.post("/api/unlike",{user_id:this.$store.getters.getUid,article_id:this.$route.params.id}).then((function(i){t.$set(t.article,"like",--t.article.like),t.like=!1})):this.axios.post("/api/like",{user_id:this.$store.getters.getUid,article_id:this.$route.params.id}).then((function(i){t.$set(t.article,"like",++t.article.like),t.like=!0}))},save:function(){var t=this,i={user_id:this.$store.getters.getUid,article_id:this.$route.params.id,comment_type:0,content:this.comment};this.axios.post("/api/add_comment",i).then((function(i){console.log(i),t.show=!1,t.get_comment_list()}))},get_comment_list:function(){var t=this;this.axios.post("/api/get_comment_list",{article_id:this.$route.params.id}).then((function(i){t.commentLists=i.data.data}))}},created:function(){var t=this;this.axios.post("/api/get_article_detail",{article_id:this.$route.params.id}).then((function(i){console.log(i),t.article=i.data.data})),this.get_comment_list()}},o=n,c=(e("0c1b"),e("2877")),r=Object(c["a"])(o,s,a,!1,null,null,null);i["default"]=r.exports},"40d2":function(t,i,e){t.exports=e.p+"static/img/ruibite.cb09fdb9.png"},"87e0":function(t,i,e){}}]);
//# sourceMappingURL=chunk-fc6e61f4.0f33c80a.js.map